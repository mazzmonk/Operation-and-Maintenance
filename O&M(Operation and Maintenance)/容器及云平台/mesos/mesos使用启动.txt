环境：
mesos master|marathon
192.168.81.3
192.168.81.91
192.168.81.92

zookeeper:
192.168.81.4
192.168.81.5
192.168.81.6

mesos slave:
192.168.81.4
192.168.81.5
192.168.81.6


192.168.81.97 docker
192.168.81.98 docker

mesos 0.28配置

所有启动时候需要安装如下包：

yum install -y tar wget git which nss

wget -O /etc/yum.repos.d/slc6-devtoolset.repo http://linuxsoft.cern.ch/cern/devtoolset/slc6-devtoolset.repo
rpm --import http://linuxsoft.cern.ch/cern/centos/7/os/x86_64/RPM-GPG-KEY-cern

wget http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo -O /etc/yum.repos.d/epel-apache-maven.repo


cat > /etc/yum.repos.d/wandisco-svn.repo <<EOF
[WANdiscoSVN]
name=WANdisco SVN Repo 1.8
enabled=1
baseurl=http://opensource.wandisco.com/centos/6/svn-1.8/RPMS/$basearch/
gpgcheck=1
gpgkey=http://opensource.wandisco.com/RPM-GPG-KEY-WANdisco
EOF

yum groupinstall -y "Development Tools"

yum install -y devtoolset-2-toolchain apache-maven python-devel java-1.7.0-openjdk-devel zlib-devel libcurl-devel openssl-devel cyrus-sasl-devel cyrus-sasl-md5 apr-devel subversion-devel apr-util-devel

yum install -y libcgroup



1.启动master
cd mesos-0.28.0/build
./bin/mesos-master.sh --ip="192.168.81.3" --zk=zk://192.168.81.4:2181,192.168.81.5:2181,192.168.81.6:2181/mesos --quorum=1 --external_log_file=$HOME/logs/mesos/log --cluster=mymesos --work_dir=$HOME/logs/mesos/master &

//这里的--ip是本机ip地址

2.启动slave
cd mesos-0.28.0/build
./bin/mesos-slave.sh --master=zk://192.168.81.4:2181,192.168.81.5:2181,192.168.81.6:2181/mesos --containerizers=mesos --log_dir=$HOME/logs/mesos/log --work_dir=$HOME/logs/mesos/slave &


3.master ui
http://192.168.81.3:5050
http://192.168.81.3:5050/metrics/snapshot 获取master监控指标
http://192.168.81.3:5050/help  restful接口，可以查看相关性能
比如 http://192.168.81.3:5050/system/stats.json 

4.slave ui
http://192.168.81.4:5051/metrics/snapsho 获取slave监控指标           //每个slave的监控指标是不同的
