　DESCRIPTION 
　The functions gettimeofday and settimeofday can get and set the time as well as a timezone. The tv argument is a    
  timeval struct, as specified in <sys/time.h>: 
　struct timeval { 
　time_t tv_sec; /* seconds */  1970年1月1日到现在的秒
　suseconds_t tv_usec; /* microseconds */  1970年1月1日到现在的微秒
　}; 
　其中对tv_usec的说明为时间的毫秒部分。 而在实际中，该函数以及Linux内核返回的timeval类型的时间值，tv_usec代表的是微秒精度（10的－6次方秒）。 


#include <stdio.h>  
#include <time.h>  
  
int main(int argc, char**argv)  
{  
    time_t timeNow = time(NULL);  
    struct tm *p = localtime(&timeNow);   
  
    struct tm *pp;  
    timeNow += 10000;  
    pp = localtime(&timeNow);  
  
    printf("当前时间：%d年%d月%d日 %d:%d:%d\n",p->tm_year+1900,p->tm_mon+1,p->tm_mday,p->tm_hour,p->tm_min,p->tm_sec );   
    printf("相加后时间：%d年%d月%d日 %d:%d:%d\n",pp->tm_year+1900,pp->tm_mon+1,pp->tm_mday,pp->tm_hour,pp->tm_min,pp->tm_sec );   
  
    return 0;  
}; 


#include <stdio.h>  
#include <time.h>  
  
int main(int argc, char**argv)  
{  
    const char *wday[]={"星期天","星期一","星期二","星期三","星期四","星期五","星期六"};   
  
    time_t timeNow = time(NULL);  
  
    struct tm* p = localtime(&timeNow);   
  
    struct tm* pp;  
  
    printf("%d年%d月%d日 %d:%d:%d %s\n",p->tm_year+1900,p->tm_mon+1,p->tm_mday,p->tm_hour,p->tm_min,p->tm_sec, wday[p->tm_wday]);   
  
    pp = gmtime(&timeNow);  
  
    printf("%d年%d月%d日 %d:%d:%d %s\n",pp->tm_year+1900,pp->tm_mon+1,pp->tm_mday,pp->tm_hour,pp->tm_min,pp->tm_sec, wday[pp->tm_wday]);   
  
    return 0;  
};  



mktime（将时间结构数据转换成经过的秒数）
函数定义
time_t mktime(strcut tm * timeptr);

函数说明 
mktime()用来将参数timeptr所指的tm结构数据转换成从公元1970年1月1日0时0分0 秒算起至今的UTC时间所经过的秒数。

返回值 
返回经过的秒数。

注意：这里传入的参数必须是本地时间，不然就乱了
 
范例
Cpp代码  收藏代码
#include <stdio.h>  
#include <time.h>  
  
int main(int argc, char**argv)  
{  
    time_t timeNow = time(NULL);  
  
    struct tm* p = localtime(&timeNow);   
  
    time_t timeNow1 = mktime(p);   
  
    struct tm* pp = gmtime(&timeNow);  
  
    time_t timeNow2 = mktime(pp);  
  
    printf("%ld\n%ld\n%ld\n", timeNow, timeNow1, timeNow2);  
  
    return 0;  
};  
